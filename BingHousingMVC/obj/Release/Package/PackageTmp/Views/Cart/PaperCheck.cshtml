@model BingHousingMVC.Models.CheckModel
@{
    ViewBag.Title = "PaperCheck";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var IsInvoiceNumberDisabled = "";
    if(@Model != null && !string.IsNullOrEmpty(@Model.InvoiceNumber))
    {
        IsInvoiceNumberDisabled = "disabled:disabled";
    }
}

<div align="center">

    <img src="../../Images/check.gif" alt="ChecK Model" />

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)


        <fieldset>

            <table style="border: none !important;">
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Invoice Number *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.InvoiceNumber,new  {@IsInvoiceNumberDisabled })<br />
                            @Html.ValidationMessageFor(m => m.InvoiceNumber)
                            @Html.HiddenFor(m=>m.InvoiceId)
                            @Html.HiddenFor(m => m.InvoiceNumber)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Your Payment Will Be Made To *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.Payee)<br />
                            @Html.ValidationMessageFor(m => m.Payee)

                            @Html.HiddenFor(m => m.CheckId)
                            @Html.HiddenFor(m => m.UserId)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Name On Check *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.NameOnCheck)<br />
                            @Html.ValidationMessageFor(m => m.NameOnCheck)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Address On Check *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.AddressOnCheck)<br />
                            @Html.ValidationMessageFor(m => m.AddressOnCheck)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("City On Check *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.CityOnCheck)<br />
                            @Html.ValidationMessageFor(m => m.CityOnCheck)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("State On Check *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.StateOnCheck)<br /><br />
                            @Html.ValidationMessageFor(m => m.StateOnCheck)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Zip On Check *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.ZipOnCheck)<br />
                            @Html.ValidationMessageFor(m => m.ZipOnCheck)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Date On Check *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            <input type="text" name="DateOnCheck" id="DateOnCheck" class="datefield" value="@DateTime.Now.ToShortDateString()" /><br />
                            @Html.ValidationMessageFor(m => m.DateOnCheck)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Amount on Check *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px; ">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.AmountOnCheck, new { @IsInvoiceNumberDisabled })<br />
                            @Html.ValidationMessageFor(m => m.AmountOnCheck)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Bank Name *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.BankName)<br />
                            @Html.ValidationMessageFor(m => m.BankName)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Bank Address *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.BankAddress)<br />
                            @Html.ValidationMessageFor(m => m.BankAddress)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Bank City *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.BankCity)<br />
                            @Html.ValidationMessageFor(m => m.BankCity)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Bank State *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.BankState)<br />
                            @Html.ValidationMessageFor(m => m.BankState)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Bank Zip Code *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.BankZip)<br />
                            @Html.ValidationMessageFor(m => m.BankZip)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Check Number *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.CheckNumber)<br />
                            @Html.ValidationMessageFor(m => m.CheckNumber)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Routing Number *")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.RoutingNumber, 9)<br />
                            @Html.ValidationMessageFor(m => m.RoutingNumber)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Account Number")
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextBoxFor(m => m.AccountNumber, new { @class = "acct" })<br />
                            <span class='errmsg' id="accterrmsg"></span><br />
                            @Html.ValidationMessageFor(m => m.AccountNumber)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Check Memo")<br />
                            (no longer than 50 charecters.)
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextAreaFor(m => m.CheckMemo)<br />
                            @Html.ValidationMessageFor(m => m.CheckMemo)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td class="EditTable1">
                        <div class="editor-label">
                            @Html.Label("Comments")<br />
                            (no longer than 50 charecters.)
                        </div>
                    </td>
                    <td>
                        <p style="padding-bottom: 5px;">
                            :
                        </p>
                    </td>
                    <td class="EditTable1">
                        <div class="editor-field">
                            @Html.TextAreaFor(m => m.Comment)<br />
                            @Html.ValidationMessageFor(m => m.Comment)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td></td>
                    <td></td>
                    <td class="EditTable1" style="float: left;">
                        <p>
                            <input type="submit" class="button" value="Submit" /> <a href="@Url.Action("PaperCheck", "Cart")"><input type="button" class="button" value="Reset" style="height:32px" /></a>
                        </p>
                    </td>
                </tr>
            </table>
        </fieldset>

    }

</div>

@section Scripts{

    <script type="text/javascript">
        $(document).ready(function () {
            $(".datefield").datepicker();
            //called when key is pressed in textbox
            $(".acct").keypress(function (e) {

                //if the letter is not digit then display error and don't type anything
                if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57)) {
                    //display error message
                    $('#accterrmsg').html("Enter Numbers Only").show().fadeOut("slow");
                    return false;
                }
                else {
                    var c = String.fromCharCode(e.which);
                    var tbval = $(this).val() + c;

                    $(this).val(tbval);
                }

                if ($(this).val().length > 0) {
                    return false;
                }

            });

        });
    </script>
}