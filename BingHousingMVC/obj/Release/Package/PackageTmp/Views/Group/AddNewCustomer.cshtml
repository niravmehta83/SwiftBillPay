@model BingHousingMVC.Models.CustomerModel
@using System.Web.Optimization;
@{
    ViewBag.Title = "Add Customer - Swift Bill Pay";
    ViewBag.PageTitle = "Add Customer";

    List<SelectListItem> list = (List<SelectListItem>)ViewBag.payeelist;
    int groupId = 0;
    Int32.TryParse(ViewBag.GroupId, out groupId);

}

@if (list.Count > 0)
{
    using (Html.BeginForm("AddNewCustomer", "Group", FormMethod.Post, new { id = "form" }))
    {
        @Html.ValidationSummary(true)
        @Html.AntiForgeryToken()
        @Html.Hidden("hdnGroupId", groupId)
        <div class="row row-space">
            <div class="form-group">
                <div class="col-lg-3">
                    <label>Type *</label>
                </div>
                <div class="col-lg-6">
                    @Html.RadioButtonFor(m => m.Type, "Customer")@Html.Label(" Customer")
                    @Html.RadioButtonFor(m => m.Type, "Company")@Html.Label(" Company")
                </div>
            </div>
        </div>
        <div id="divform" style="display: none">
                <table>
                    <tr >
                        <td class="EditTable">
                            <div class="editor-label" id="divfn">
                                @Html.Label("Customer First Name" + "*")
                            </div>
                            <div class="editor-label" id="divcn">
                                @Html.Label("Company Name" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CustomerFirstName)<br />
                                @Html.ValidationMessageFor(model => model.CustomerFirstName)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label" id="divlnl">
                                @Html.Label("Customer Last Name" + "*")
                            </div>
                        </td>
                        <td >
                        <div id="divlns">:</div>
                            
                        </td>
                        <td class="EditTable">
                            <div class="editor-field" id="divlntb">
                                @Html.EditorFor(model => model.CustomerLastName)<br />
                                @Html.ValidationMessageFor(model => model.CustomerLastName)
                                <div id="divmcln" style="color:Red"></div>
                            </div>
                        </td>
                    </tr>
                  
                 
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Address" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CustomerAddress)<br />
                                @Html.ValidationMessageFor(model => model.CustomerAddress)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Address2")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CustomerAddress2)<br />
                                @Html.ValidationMessageFor(model => model.CustomerAddress2)
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("City" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CustomerCity)<br />
                                @Html.ValidationMessageFor(model => model.CustomerCity)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("State" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CustomerState)<br />
                                @Html.ValidationMessageFor(model => model.CustomerState)
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Zip Code" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CustomerZipCode)<br />
                                @Html.ValidationMessageFor(model => model.CustomerZipCode)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Country")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CustomerCountry)<br />
                                @Html.ValidationMessageFor(model => model.CustomerCountry)
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Email" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.CustomerEmail)<br />
                                @Html.ValidationMessageFor(model => model.CustomerEmail)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Amount Due" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.AmountDue)<br />
                                @Html.ValidationMessageFor(model => model.AmountDue)
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Bill Description" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.EditorFor(model => model.BillDescription)<br />
                                @Html.ValidationMessageFor(model => model.BillDescription)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Bill Date* (MM/DD/YYYY)")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.TextBoxFor(model => model.NextBillDate, new { @class = "datefield" ,id= "NextBillDate", @placeholder="MM-DD-YYYY"})<br />
                                @Html.ValidationMessageFor(model => model.NextBillDate)
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Inervals Type" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.DropDownListFor(model => model.IntervalTypeID, (List<SelectListItem>)ViewBag.IntervalType)<br />
                                @Html.ValidationMessageFor(model => model.IntervalTypeID)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Intervals" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.TextBoxFor(model => model.Intervals)<br />
                                @Html.ValidationMessageFor(model => model.Intervals)
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Payee" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.DropDownListFor(model => model.PayeeId, (List<SelectListItem>)ViewBag.payeelist)<br />
                                @Html.ValidationMessageFor(model => model.PayeeId)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Late Charges" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.CheckBoxFor(model => model.LateCharges)<br />
                                @Html.ValidationMessageFor(model => model.LateCharges)
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Late Charges Start Day" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.TextBoxFor(model => model.LateChargesStartday)<br />
                                @Html.ValidationMessageFor(model => model.LateChargesStartday)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Late Charges Start Day Amount" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.TextBoxFor(model => model.LateChargesStartdayAmount)<br />
                                @Html.ValidationMessageFor(model => model.LateChargesStartdayAmount)
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Late Charges There After Day" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.TextBoxFor(model => model.LateChargesThereAfterday)<br />
                                @Html.ValidationMessageFor(model => model.LateChargesThereAfterday)
                            </div>
                        </td>
                        <td style="width: 50px">
                        </td>
                        <td class="EditTable">
                            <div class="editor-label">
                                @Html.Label("Late Charges There After Day Amount" + "*")
                            </div>
                        </td>
                        <td>
                            :
                        </td>
                        <td class="EditTable">
                            <div class="editor-field">
                                @Html.TextBoxFor(model => model.LateChargesThereAfterdayAmount)<br />
                                @Html.ValidationMessageFor(model => model.LateChargesThereAfterdayAmount)
                            </div>
                        </td>
                    </tr>
                </table>

                <div>
                    <input type="submit" value="Add" />
                </div>
                
            </div>
    }
}
else
{
    <div>
        <h5>1. You need atleast one payee to import the customers. </h5>
        <h5>2. To Add a Single Payee, click - <a href="@Url.Action("AddPayeeDetails", "User")"><i class="fa fa-plus"></i> Add Payee</a></h5> <br />
        <h5>3. To goto Import Payee page click - <a href="@Url.Action("ImportPayees", "User")"><i class="fa fa-plus"></i> Import Payees</a></h5>
    </div>
}

@section Scripts{
    <script type="text/javascript">
        var countChecked = function () {
            var n = $("input:checked").val();

            if (n == 'Company') {
                $('#divform').show();
                $('#divcn').show();
                $('#divfn').hide();
                $('#divlnl').hide();
                $('#divlntb').hide();
                $('#divlns').hide();
            }
            else if (n == 'Customer') {
                $('#divform').show();
                $('#divcn').hide();
                $('#divfn').show();
                $('#divlnl').show();
                $('#divlntb').show();
                $('#divlns').show();
            }
            else {

                $('#divform').hide();
            }
        };
        countChecked();
        $("input[type=radio]").on("click", countChecked);

        function Validate() {
            var n = $('#Type').val();

            if (n == 'Customer') {
                //alert($('#CustomerLastName').val());
            }
        }

        jQuery(function ($) {
            $("#NextBillDate").mask("99-99-9999", { placeholder: 'MM/DD/YYYY' });
        });

    </script>
}